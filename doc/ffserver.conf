# Port on which the server is listening. You must select a different
# port from your standard http web server if it is running on the same
# computer.

Port 8080

# Address on which the server is bound. Only useful if you have
# several network interfaces.

BindAddress 0.0.0.0

# Host and port of the master server if you which that this server
# duplicates another existing server. Otherwise, the server does the
# audio/video grab itself. See the following options for the grab parameters 

#MasterServer http://localhost:80/index.html

# Grab parameters

#AudioDevice /dev/dsp
#VideoDevice /dev/video

# Number of simultaneous requests that can be handled. Since FFServer
# is very fast, this limit is determined mainly by your Internet
# connection speed.

MaxClients 1000

# Access Log file (uses standard Apache log file format)
# '-' is the standard output

CustomLog -

##################################################################
# Now you can define each stream which will be generated from the
# original audio and video stream. Each format has a filename (here
# 'test128.mpg'). FFServer will send this stream when answering a
# request containing this filename.

<Stream test1.mpg>

# Format of the stream : you can choose among:
# mpeg1      : MPEG1 multiplexed video and audio
# mpeg1video : only MPEG1 video
# mp2        : MPEG audio layer 2
# mp3        : MPEG audio layer 3 (currently sent as layer 2)
# rm         : Real Networks compatible stream. Multiplexed audio and video.
# ra         : Real Networks compatible stream. Audio only.
# mpjpeg     : Multipart JPEG (works with Netscape without any plugin)
# jpeg       : Generate a single JPEG image.
# asf        : ASF compatible stream (Windows Media Player format)
# swf        : Macromedia flash(tm) compatible stream
# master     : special ffmpeg stream used to duplicate a server

Format mpeg1

# Bitrate for the audio stream. Codecs usually support only a few different bitrates. 

AudioBitRate 32

# Number of audio channels : 1 = mono, 2 = stereo

AudioChannels 1

# Sampling frequency for audio. When using low bitrates, you should
# lower this frequency to 22050 or 11025. The supported frequencies
# depend on the selected audio codec.

AudioSampleRate 44100

# Bitrate for the video stream.
VideoBitRate 64

# Number of frames per second
VideoFrameRate 3

# Size of the video frame : WxH
# W : width, H : height
# The following abbreviation are defined : sqcif, qcif, cif, 4cif
#VideoSize    352x240

# transmit only intra frames (useful for low bitrates) 
VideoIntraOnly

# If non intra only, an intra frame is transmitted every VideoGopSize
# frames Video synchronization can only begin at an I frames.
#VideoGopSize 12

</Stream>

# second mpeg stream with high frame rate

<Stream test2.mpg>
Format mpeg1video
VideoBitRate 128
VideoFrameRate 25
#VideoSize    352x240
VideoGopSize 25
</Stream>

##################################################################
# Another stream : used to download data to another server which
# duplicates this one

<Stream master>

Format master

</Stream>

##################################################################
# Another stream : Real with audio only at 32 kbits

<Stream test.ra>

Format ra
AudioBitRate 32

</Stream>

##################################################################
# Another stream : Real with audio and video at 64 kbits

<Stream test.rm>

Format rm

AudioBitRate 32
VideoBitRate 20
VideoFrameRate 2
VideoIntraOnly

</Stream>

##################################################################
# Another stream : Mpeg audio layer 2 at 64 kbits.

<Stream test.mp2>

Format mp2
AudioBitRate 64
AudioSampleRate 44100

</Stream>

<Stream test1.mp2>

Format mp2
AudioBitRate 32
AudioSampleRate 16000

</Stream>

##################################################################
# Another stream : Multipart JPEG

<Stream test.mjpg>

Format mpjpeg

VideoFrameRate 2
VideoIntraOnly

</Stream>

##################################################################
# Another stream : Multipart JPEG

<Stream test.jpg>

Format jpeg

# the parameters are choose here to take the same output as the
# Multipart JPEG one.
VideoFrameRate 2 
VideoIntraOnly

</Stream>

##################################################################
# Another stream : Flash

<Stream test.swf>

Format swf

VideoFrameRate 2
VideoIntraOnly

</Stream>


##################################################################
# Another stream : ASF compatible

<Stream test.asf>

Format asf

AudioBitRate 64
AudioSampleRate 44100
VideoFrameRate 2
VideoIntraOnly

</Stream>

##################################################################
# Another stream : server status

<Stream stat.html>

Format status

</Stream>
